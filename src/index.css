@import url('https://fonts.googleapis.com/css2?family=Segoe+UI:wght@300;400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* WhatsApp Web Dark Theme - Exact Clone */

@layer base {
  :root {
    /* Force dark mode colors */
    --background: 222 13% 7%;
    --foreground: 0 0% 92%;

    --card: 222 14% 11%;
    --card-foreground: 0 0% 92%;

    --popover: 222 14% 11%;
    --popover-foreground: 0 0% 92%;

    /* Primary - WhatsApp Teal */
    --primary: 152 69% 31%;
    --primary-foreground: 0 0% 100%;

    --secondary: 222 12% 14%;
    --secondary-foreground: 0 0% 92%;

    --muted: 222 12% 16%;
    --muted-foreground: 0 0% 60%;

    --accent: 152 69% 31%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 0 0% 100%;

    --border: 222 10% 16%;
    --input: 222 12% 14%;
    --ring: 152 69% 31%;

    --radius: 0.5rem;

    /* WhatsApp Dark Theme - Exact Colors */
    --wa-bg-default: 222 13% 7%;
    --wa-bg-panel: 222 14% 11%;
    --wa-bg-conversation: 222 14% 11%;
    --wa-bg-deeper: 222 13% 9%;
    --wa-bg-chat: 222 13% 7%;
    
    /* WhatsApp Header/Sidebar */
    --wa-header: 222 14% 11%;
    --wa-sidebar: 222 14% 11%;
    --wa-border: 222 10% 16%;
    
    /* Hover and Selection */
    --wa-hover: 222 12% 15%;
    --wa-active: 222 12% 18%;
    --wa-selected: 222 14% 15%;
    
    /* Message Bubbles */
    --wa-bubble-out: 152 33% 16%;
    --wa-bubble-in: 222 14% 15%;
    
    /* Text Colors */
    --wa-text-primary: 0 0% 92%;
    --wa-text-secondary: 0 0% 60%;
    --wa-text-tertiary: 0 0% 45%;
    
    /* Accent Colors */
    --wa-teal: 152 69% 31%;
    --wa-green: 142 70% 45%;
    --wa-blue: 199 89% 48%;
    --wa-unread: 142 70% 45%;
    
    /* Input */
    --wa-input-bg: 222 14% 14%;
    --wa-input-placeholder: 0 0% 50%;
    
    /* Icons */
    --wa-icon-default: 0 0% 60%;
    --wa-icon-hover: 0 0% 75%;
    
    /* Search Bar */
    --wa-search-bg: 222 14% 14%;
    
    /* Status */
    --status-read: 199 89% 48%;
    --status-delivered: 0 0% 60%;
    --status-sent: 0 0% 60%;
    --status-sending: 0 0% 50%;
    
    /* Legacy mappings */
    --chat-bg: var(--wa-bg-chat);
    --chat-bubble-outgoing: var(--wa-bubble-out);
    --chat-bubble-incoming: var(--wa-bubble-in);
    --chat-input-bg: var(--wa-input-bg);
    
    --whatsapp-panel-bg: var(--wa-bg-panel);
    --whatsapp-chat-bg: var(--wa-bg-chat);
    --whatsapp-header: var(--wa-header);
    --whatsapp-sidebar: var(--wa-sidebar);
    --whatsapp-hover: var(--wa-hover);
    --whatsapp-selected: var(--wa-selected);
    --whatsapp-unread: var(--wa-unread);
    --whatsapp-icon: var(--wa-icon-default);
    
    --sidebar-background: var(--wa-sidebar);
    --sidebar-foreground: var(--wa-text-primary);
    --sidebar-primary: var(--wa-teal);
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: var(--wa-selected);
    --sidebar-accent-foreground: var(--wa-text-primary);
    --sidebar-border: var(--wa-border);
    --sidebar-ring: var(--wa-teal);
    --sidebar-hover: var(--wa-hover);
  }

  .dark {
    /* Same as root - already dark theme */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    color-scheme: dark;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
    font-size: 14.2px;
    line-height: 1.4;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* WhatsApp Scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    background: hsl(0 0% 40% / 0.3);
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: hsl(0 0% 40% / 0.5);
  }

  /* Focus styles */
  :focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px hsl(var(--wa-teal) / 0.5);
  }

  /* Selection */
  ::selection {
    background: hsl(var(--wa-teal) / 0.3);
    color: hsl(var(--foreground));
  }
}

@layer utilities {
  .scrollbar-thin {
    scrollbar-width: thin;
  }
  
  .scrollbar-hidden {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  
  .scrollbar-hidden::-webkit-scrollbar {
    display: none;
  }

  /* Tabular numbers for time displays */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }

  /* WhatsApp chat doodle pattern - dark version */
  .chat-pattern {
    background-color: hsl(var(--wa-bg-chat));
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300' viewBox='0 0 300 300'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M20 20h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zM20 44h8v8h-8zm48 0h8v8h-8zm48 0h8v8h-8zm48 0h8v8h-8zm48 0h8v8h-8zM20 68h8v8h-8zm24 0h8v8h-8zm48 0h8v8h-8zm24 0h8v8h-8zm48 0h8v8h-8zm24 0h8v8h-8zm48 0h8v8h-8zM20 92h8v8h-8zm72 0h8v8h-8zm48 0h8v8h-8zm72 0h8v8h-8zM20 116h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm48 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm48 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zM20 140h8v8h-8zm48 0h8v8h-8zm96 0h8v8h-8zm48 0h8v8h-8zM20 164h8v8h-8zm24 0h8v8h-8zm48 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm48 0h8v8h-8zm24 0h8v8h-8zM20 188h8v8h-8zm72 0h8v8h-8zm72 0h8v8h-8zm72 0h8v8h-8zM20 212h8v8h-8zm24 0h8v8h-8zm48 0h8v8h-8zm48 0h8v8h-8zm48 0h8v8h-8zm24 0h8v8h-8zM20 236h8v8h-8zm48 0h8v8h-8zm24 0h8v8h-8zm48 0h8v8h-8zm24 0h8v8h-8zm48 0h8v8h-8zM20 260h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8zm24 0h8v8h-8z'/%3E%3C/g%3E%3C/svg%3E");
  }

  /* Elevation shadows */
  .elevation-1 {
    box-shadow: 0 1px 1px rgba(0,0,0,0.06), 0 2px 5px rgba(0,0,0,0.2);
  }
  
  .elevation-2 {
    box-shadow: 0 2px 4px rgba(0,0,0,0.08), 0 4px 12px rgba(0,0,0,0.24);
  }
}

/* Keyframe animations */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fade-in-up {
  from { 
    opacity: 0; 
    transform: translateY(6px); 
  }
  to { 
    opacity: 1; 
    transform: translateY(0); 
  }
}

@keyframes slide-in-left {
  from { 
    opacity: 0;
    transform: translateX(-12px); 
  }
  to { 
    opacity: 1;
    transform: translateX(0); 
  }
}

@keyframes scale-in {
  from { 
    opacity: 0;
    transform: scale(0.96); 
  }
  to { 
    opacity: 1;
    transform: scale(1); 
  }
}

@keyframes bounce-in {
  0% { 
    opacity: 0;
    transform: scale(0.5); 
  }
  70% { 
    transform: scale(1.05); 
  }
  100% { 
    opacity: 1;
    transform: scale(1); 
  }
}

@keyframes pulse-soft {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes typing-dot {
  0%, 60%, 100% { transform: translateY(0); }
  30% { transform: translateY(-3px); }
}

.animate-fade-in {
  animation: fade-in 0.15s ease-out forwards;
}

.animate-fade-in-up {
  animation: fade-in-up 0.2s ease-out forwards;
}

.animate-slide-in-left {
  animation: slide-in-left 0.2s ease-out forwards;
}

.animate-scale-in {
  animation: scale-in 0.15s ease-out forwards;
}

.animate-bounce-in {
  animation: bounce-in 0.35s ease-out forwards;
}

.animate-pulse-soft {
  animation: pulse-soft 1.5s ease-in-out infinite;
}

/* Typing indicator */
.typing-dot {
  animation: typing-dot 1.2s ease-in-out infinite;
}

.typing-dot:nth-child(1) { animation-delay: 0s; }
.typing-dot:nth-child(2) { animation-delay: 0.15s; }
.typing-dot:nth-child(3) { animation-delay: 0.3s; }

/* Safe area for mobile devices */
.safe-area-bottom {
  padding-bottom: max(env(safe-area-inset-bottom, 0px), 8px);
}

/* Better touch targets for mobile */
@media (hover: none) and (pointer: coarse) {
  button, a, [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Prevent text selection on UI elements */
.select-none {
  user-select: none;
  -webkit-user-select: none;
}

/* Smooth transitions */
.transition-smooth {
  transition: all 0.15s ease-out;
}

/* Active states for mobile */
@media (hover: none) {
  .active\:bg-\[#2a3942\]:active {
    background-color: #2a3942;
  }
}
